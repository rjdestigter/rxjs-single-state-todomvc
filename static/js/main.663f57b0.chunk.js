(window["webpackJsonptodomvc-typescript-react-rxjs"]=window["webpackJsonptodomvc-typescript-react-rxjs"]||[]).push([[0],{60:function(e,t,n){e.exports=n(70)},65:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(36),u=n.n(i),l=(n(65),n(9)),s=n(27),f=n(2);!function(e){e.Noop="Noop",e.Pending="Pending",e.Ok="Ok",e.Bad="Bad"}(r||(r={})),function(e){e.Fetch="Fetch",e.Edit="Edit",e.Save="Save",e.Delete="Delete"}(a||(a={}));var p=n(100),b=n(78),d=n(80),O=n(95),j=function(e){return function(t){return e===t}},m=j(r.Ok),v=j(r.Bad),y=j(r.Noop),h=j(r.Pending),w=function(e){return function(t){return e(t.status)}},g=w(m),E=w(v),k=w(y),C=w(h),x=function(e){return{status:r.Noop,state:e}};function S(e,t){return null!=t?{status:r.Pending,state:e.state,action:t}:{status:r.Pending,state:e.state}}var A,P=function(e){return c.createElement(c.Fragment,null,c.createElement(b.b,{title:e.todo.title,style:{opacity:e.isDeleting?.5:1,transition:"opacity 0.2s ease-in-out"}},c.createElement(b.c,{icon:{icon:e.todo.completed?"check_circle_outline":"radio_button_unchecked",theme:e.todo.completed?"primary":void 0,onClick:function(){return e.onSave({completed:!e.todo.completed})}}}),c.createElement(b.g,null,c.createElement(b.e,{theme:"secondary"},e.todo.title),c.createElement(b.f,{theme:e.error?"error":void 0,style:{fontStyle:"italic "}},e.error?e.error:e.status&&h(e.status)?"...busy":"Get to it!")),c.createElement(b.d,{icon:null==e.status?"":h(e.status)?c.createElement(d.a,{theme:"secondary"}):v(e.status)?{icon:"error",theme:"error"}:m(e.status)?{icon:"check",theme:"primary"}:""})),c.createElement(b.a,null))},D=n(11),N=function(e){console.log("new",e.new.status);var t=e.new,n=g(t)?D.a:function(t){e.onChangeNew(t.currentTarget.value)};return c.createElement(p.a,{className:"todo-list",twoLine:!0},c.createElement(b.b,null,c.createElement(b.c,{title:"Mark all as complete.",icon:{icon:"keyboard_arrow_down",onClick:e.onCompleteAll},theme:"secondary"}),C(e.new)?c.createElement(c.Fragment,null,c.createElement(b.g,null,c.createElement(b.e,{theme:"secondary"},e.new.state),c.createElement(b.f,{style:{fontStyle:"italic "}},"...busy")),c.createElement(b.d,{icon:null==e.new.status?"":C(e.new)?c.createElement(d.a,{theme:"secondary"}):E(e.new)?{icon:"error",theme:"error"}:g(e.new)?{icon:"check",theme:"primary"}:""})):c.createElement(O.a,{fullwidth:!0,theme:"textPrimaryOnDark",placeholder:"Where do you want to go today?",style:{height:"100%"},onInput:n,value:e.new.state||"",onKeyUp:function(t){return 13===t.keyCode&&e.onSubmitNew()},autoFocus:!0,trailingIcon:E(e.new)?{icon:"error",theme:"error"}:void 0})),c.createElement(b.a,null),function(e){return e.todos.map((function(t){var n=Object(f.a)(t,2),r=n[0],o=n[1];return c.createElement(P,{key:r.id,todo:r,onEdit:e.onEdit(r,o),onSave:e.onSave(r,o),status:o&&o.status,isDeleting:C(o)&&o.action===a.Delete,error:o&&E(o)&&o.error||void 0})}))}(e))};!function(e){e.All="All",e.Active="Active",e.Completed="Completed"}(A||(A={}));n(82);var F=n(44),T=n(98),B=function(e){return function(t){for(var n=[],r=t.length,a=0;a<r&&a<e;a+=1)n.push(t[a]);return n}},_=function(e){return Object(f.a)(e,1)[0]},I=function(e){return Object(f.a)(e,1)[0]},M=function(e){return Object(f.a)(e,2)[1]},W=function(e){return Object(f.a)(e,2)[1]},q=function(e,t){return[e,t]},J=function(e,t,n){return[e,t,n]},L=function(e){return function(t){return t===e}},U=L(A.All),G=L(A.Completed),K=L(A.Active),R=function(e){return function(t){return e===A.All?t:t.filter((function(t){var n=Object(f.a)(t,1)[0];return G(e)&&n.completed||K(e)&&!n.completed}))}},$=R(A.Completed),z=R(A.Active),H=function(e){return e},Q=function(e,t){return function(n){return e(t(n))}},V=n(83),X=n(99),Y=n(84),Z=function(e){var t=c.createElement(N,{todos:e.todos,onEdit:e.onEdit,onSave:e.onSave,onChangeNew:e.onChangeNew,new:e.new,onSubmitNew:e.onSubmitNew,onCompleteAll:e.onCompleteAll});return c.createElement(c.Fragment,null,c.createElement("div",{style:{textAlign:"center",marginTop:15}},c.createElement(V.a,{use:"headline1",theme:"secondary"},"todos")),c.createElement("section",{className:"todoapp"},c.createElement("section",{className:"main"},t),c.createElement("footer",{className:"footer",style:{textAlign:"center"}},c.createElement(X.b,{choice:!0,style:{justifyContent:"center"}},c.createElement(X.a,{label:"All",theme:U(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.All)}}),c.createElement(X.a,{label:"Active",icon:"radio_button_unchecked",theme:K(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.Active)}}),c.createElement(X.a,{label:"Completed",icon:"check_circle_outline",theme:G(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.Completed)}})),c.createElement("div",null,c.createElement(Y.a,{onClick:e.onClearComplete},"Clear completed")),c.createElement(V.a,{use:"caption",style:{color:"#999  "}},c.createElement("strong",null,e.todos.filter((function(e){return!Object(f.a)(e,1)[0].completed})).length)," ","item left"))))},ee=n(97),te=n(32),ne=n(46),re=n(51),ae=n(57),ce=n(86),oe=n(43),ie=n(87),ue=n(56),le=n(90),se=n(91),fe=n(92),pe=n(93),be=n(94),de=n(89),Oe=n(96);var je=n(85),me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H,n=new te.a,r=e,a=function(e){r=e,n.next(e)},c=Object(F.a)(void 0).pipe(Object(oe.a)((function(){return r}))),o=t(n.asObservable());return[Object(re.a)(c,o),a,e]},ve=n(88),ye=n(17),he=n.n(ye),we=n(34);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ke=[],Ce=[!0,!1,!1,!0,!0,!1,!0],xe=0,Se=function(){return(xe+=1)>Ce.length-1&&(xe=0),Ce[xe]},Ae=function(e){return new Promise((function(t){return setTimeout(t,e)}))},Pe=function(){var e=Object(we.a)(he.a.mark((function e(){var t,n;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Se(),!(ke.length<=0)){e.next=13;break}return e.next=4,fetch("https://jsonplaceholder.typicode.com/todos/");case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.next=10,Ae(1500);case 10:ke=B(25)(n).map((function(e){return Ee({},e,{completed:!1})})),e.next=15;break;case 13:return e.next=15,Ae(1e3);case 15:return e.abrupt("return",ke);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(we.a)(he.a.mark((function e(t){var n,a;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Se(),e.next=3,Ae(1500);case 3:if(!n){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Something went terribly wrong!",state:t.state});case 5:if(t.state){e.next=7;break}return e.abrupt("return",{status:r.Bad,error:"A title is required!",state:t.state});case 7:return a={id:Math.floor(1e4*Math.random()),userId:Math.floor(1e4*Math.random()),title:t.state,completed:!1},ke=[].concat(Object(l.a)(ke),[a]),e.abrupt("return",{status:r.Ok,state:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(we.a)(he.a.mark((function e(t,n){var c,o;return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(1500);case 2:if(!Se()){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Something went terribly wrong!",state:n.state,action:a.Save});case 5:if(c=n.state.title.trim()){e.next=8;break}return e.abrupt("return",{status:r.Bad,action:a.Save,error:"A title is required!",state:Ee({},n.state,{title:c})});case 8:return o=Ee({},t,{},n.state,{title:c}),ke=ke.map((function(e){return e.id===o.id?o:t})),e.abrupt("return",{status:r.Ok,state:Ee({},t,{},n.state,{title:c}),action:a.Save});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(we.a)(he.a.mark((function e(t,n){return he.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae(1500);case 2:if(!Se()){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Unable to delete!",state:n.state,action:a.Delete});case 5:return ke=ke.filter((function(e){return e.id!==t.id})),e.abrupt("return",{status:r.Ok,state:t,action:a.Delete});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Te=function(e,t){return{type:a.Save,todo:e,operation:t}},Be=function(e){return function(t){return t===e}},_e=Be(a.Fetch),Ie=Be(a.Edit),Me=Be(a.Save),We=Be(a.Delete),qe=function(e){return function(t){return e(t.type)}},Je=qe(_e),Le=qe(Ie),Ue=qe(Me),Ge=qe(We),Ke=new te.a,Re=function(e){Ke.next(e)},$e=me([]),ze=Object(f.a)($e,2),He=ze[0],Qe=ze[1],Ve=function(e){return Object(ue.a)((function(t){return Object(F.a)(t).pipe(Object(ce.a)(He),Object(oe.a)((function(t){var n=Object(f.a)(t,2),r=n[0],a=n[1],c=e(r),o=Object(f.a)(c,2),i=o[0],u=o[1],s=a.findIndex((function(e){return Object(f.a)(e,1)[0].id===("number"===typeof i?i:i.id)}));if(s>=0){var p=Object(l.a)(a);return p.splice(s,1,["number"===typeof i?a[s][0]:i,u]),J(u,p,i)}return J(u,a,i)})),Object(ie.a)(Q(Qe,W)))}))},Xe=Ke.pipe(Object(le.a)((function(e){return Je(e)?a.Fetch:Le(e)||Ue(e)?e.todo.id:Ge(e)?e.id:void 0}),(function(e){return e}),(function(e){return e.pipe(Object(se.a)(15e3,ae.a),Object(fe.a)())})),Object(ue.a)((function(e){return e.pipe(Object(pe.a)((function(e){if(Je(e))return Object(ne.a)(Pe()).pipe(Object(ce.a)(He),Object(oe.a)((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return[].concat(Object(l.a)(r),Object(l.a)(n.map((function(e){var t=x({title:e.title,completed:e.completed});return q(e,t)}))))})),Object(ie.a)(Qe)).pipe(Object(oe.a)((function(t){return q(e,t)})));if(Le(e))return function(e){return Object(F.a)(void 0).pipe(Object(ce.a)(He),Object(oe.a)(M),Object(oe.a)((function(t){var n=t.findIndex((function(t){return Object(f.a)(t,1)[0].id===e.todo.id})),r=Object(l.a)(t);return r.splice(n,1,[e.todo,e.operation]),r})),Object(ie.a)(Qe),Object(oe.a)((function(t){return q(e,t)})))}(e);if(Ue(e))return function(e){return Object(re.a)(Object(F.a)(S(e.operation,a.Save)).pipe(Ve((function(t){return q(e.todo,t)})),Object(oe.a)((function(e){return W(e)})),Object(oe.a)((function(t){return(n=q,function(e){return function(t){return n(e,t)}})(e)(t);var n}))),Object(ne.a)(Ne(e.todo,e.operation)).pipe(Ve((function(t){return q(g(t)?t.state:e.todo,t)})),Object(oe.a)(I),Object(ue.a)((function(e){return Object(F.a)(e).pipe(Object(T.a)(g(e)?750:5e3))})),Ve((function(t){return q(e.todo.id,x(t.state))})),Object(oe.a)((function(t){return q(e,t)}))))}(e);var t,n=(t="id",function(e){return e[t]});return Object(F.a)(void 0).pipe(Object(ce.a)(He),Object(oe.a)(M),Object(oe.a)((function(t){return t.find((function(t){return n(_(t))===n(e)}))})),Object(ue.a)((function(t){return t?Object(F.a)(t).pipe(Object(be.a)((function(e){return k(M(e))||E(M(e))})),Ve((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return q(n,S(r,a.Delete))})),Object(ue.a)((function(e){var n=Object(f.a)(e,3),r=n[0],a=(n[1],n[2]);return Object(ne.a)(Fe(a,r)).pipe(Object(ue.a)((function(e){return g(e)?Object(F.a)(void 0).pipe(Object(ce.a)(He),Object(oe.a)(M),Object(ie.a)((function(t){return Qe(t.filter((function(t){return Object(f.a)(t,1)[0].id!==e.state.id})))}))):Object(F.a)(void 0).pipe(Ve((function(){return[_(t),e]})))})))}))):Object(F.a)(q(e,void 0))})))})))}))),Ye=me({status:r.Noop,state:""},(function(e){return e.pipe(Object(pe.a)((function(e){return C(e)?Object(ne.a)(De(e)).pipe(Object(ce.a)(He),Object(ie.a)((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];g(n)&&Qe([].concat(Object(l.a)(r),[q(n.state,x(n.state))]))})),Object(oe.a)(_),Object(oe.a)((function(e){return E(e)?e:x("")})),Object(de.a)(e)):Object(F.a)(e)})),Object(Oe.a)())})),Ze=me(A.All);function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){var t=new te.a,n=e.pipe(Object(ve.a)((function(e,t){var n=Object(f.a)(e,2),r=n[0],a=n[1];return[t,r?[].concat(Object(l.a)(a),[r]):[]]}),[void 0,[]])),r=Object(je.a)(t.asObservable().pipe(Object(de.a)(-1)),n).pipe(Object(oe.a)((function(e){var t=Object(f.a)(e,2),n=t[0],r=Object(f.a)(t[1],2)[1];return n<0?[-1,r.length]:n>r.length-1?[r.length-1,r.length]:[n,r.length]})));return[Object(je.a)(r,n).pipe(Object(oe.a)((function(e){var t=Object(f.a)(e,2),n=Object(f.a)(t[0],2),r=n[0],a=n[1],c=Object(f.a)(t[1],2),o=c[0],i=c[1];return r>-1&&null!=i[a-r-1]?i[a-r-1]:o}))),function(e){return t.next(e)},r]}(function(e){var t=Object.keys(e).reduce((function(t,n){var r=e[n];if(function(e){return Array.isArray(e)}(r)){var a=Object(f.a)(r,2),c=a[0],o=a[1],i=c.pipe(Object(oe.a)((function(e){return[n,function(){return e},function(e){o(e)}]})));t.push(i)}else{var u=r.pipe(Object(oe.a)((function(e){return[n,function(){return e},function(e){0}]})));t.push(u)}return t}),[]);return je.a.apply(void 0,Object(l.a)(t)).pipe(Object(oe.a)((function(e){return e.reduce((function(e,t){var n=Object(f.a)(t,3),r=n[0],a=n[1],c=n[2];return Object.defineProperty(e,r,{get:a,set:c}),e}),{})})))}({todos:Object(je.a)(He,Ze[0]).pipe(Object(oe.a)((function(e){var t=Object(f.a)(e,2),n=t[0];return function(e){return K(e)?z:G(e)?$:H}(t[1])(n)}))),filterType:Ze,new:Ye})),rt=Object(f.a)(nt,3),at=rt[0],ct=rt[1],ot=rt[2],it=function(){console.log("Render App");var e=o.a.useState(),t=Object(f.a)(e,2),n=t[0],r=t[1],c=o.a.useState([-1,0]),i=Object(f.a)(c,2),u=Object(f.a)(i[0],2),s=u[0],p=u[1],b=i[1];if(o.a.useEffect((function(){var e=Xe.subscribe(),t=ot.pipe(Object(ie.a)((function(e){return b(e)}))).subscribe();at.pipe(Object(ie.a)(r),Object(ie.a)((function(e){return Object.assign(window,{state:e})}))).subscribe();return Re({type:a.Fetch}),function(){e.unsubscribe(),t.unsubscribe(),t.unsubscribe()}}),[]),n){var d=function(e){return!0===e.completed};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("div",{className:"todomvc"},o.a.createElement(Z,{todos:n.todos,new:n.new,onChangeFilterType:s>=0?D.a:function(e){n.filterType=e},onChangeNew:s>=0?D.a:function(e){n.new=x(e)},onSubmitNew:s>=0?D.a:function(){C(n.new)||(n.new=S(n.new))},filterType:n.filterType,onEdit:s>=0?function(){return D.a}:function(e,t){return function(n){(k(t)||E(t))&&Re(function(e,t){return{type:a.Edit,todo:e,operation:t}}(e,tt({},t,{state:tt({},t.state,{},n)})))}},onSave:s>=0?function(){return D.a}:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(k(t)||E(t))&&Re(Te(e,tt({},t,{state:tt({},t.state,{},n)})))}},onCompleteAll:s>=0?D.a:function(){return n.todos.filter(Q((function(e){return!e}),Q(d,_))).filter((function(e){return k(M(e))||E(M(e))})).map((function(e){return q(_(e),tt({},M(e),{state:tt({},M(e).state,{completed:!0})}))})).forEach((function(e){return Re(Te.apply(void 0,Object(l.a)(e)))}))},onClearComplete:s>=0?D.a:function(){n.todos.filter(Q(d,_)).filter((function(e){return k(M(e))||E(M(e))})).forEach((function(e){var t,n=Object(f.a)(e,1)[0];return Re((t=n.id,{type:a.Delete,id:t}))}))}}))),o.a.createElement("div",null,o.a.createElement("div",{style:{padding:15}},o.a.createElement(ee.a,{value:s<0?p:p-s-1,onInput:function(e){return ct(p-e.detail.value-1)},discrete:!0,start:0,max:p,step:1}))))}return o.a.createElement("div",null,"Loading..")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(it,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[60,1,2]]]);
//# sourceMappingURL=main.663f57b0.chunk.js.map