(window["webpackJsonptodomvc-typescript-react-rxjs"]=window["webpackJsonptodomvc-typescript-react-rxjs"]||[]).push([[0],{61:function(e,t,n){e.exports=n(71)},66:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(37),u=n.n(i),l=(n(66),n(9)),s=n(29),f=n(2);!function(e){e.Noop="Noop",e.Pending="Pending",e.Ok="Ok",e.Bad="Bad"}(r||(r={})),function(e){e.Fetch="Fetch",e.Edit="Edit",e.Save="Save",e.Delete="Delete"}(a||(a={}));var d=n(104),b=n(80),p=n(82),O=n(98),m=function(e){return function(t){return e===t}},j=m(r.Ok),v=m(r.Bad),y=m(r.Noop),h=m(r.Pending),w=function(e){return function(t){return e(t.status)}},g=w(j),E=w(v),x=w(y),k=w(h),C=function(e){return{status:r.Noop,state:e}};function S(e,t){return null!=t?{status:r.Pending,state:e.state,action:t}:{status:r.Pending,state:e.state}}var A,P=function(e){return c.createElement(c.Fragment,null,c.createElement(b.b,{title:e.todo.title,style:{opacity:e.isDeleting?.5:1,transition:"opacity 0.2s ease-in-out"}},c.createElement(b.c,{icon:{icon:e.todo.completed?"check_circle_outline":"radio_button_unchecked",theme:e.todo.completed?"primary":void 0,onClick:function(){return e.onSave({completed:!e.todo.completed})}}}),c.createElement(b.g,null,c.createElement(b.e,{theme:"secondary"},e.todo.title),c.createElement(b.f,{theme:e.error?"error":void 0,style:{fontStyle:"italic "}},e.error?e.error:e.status&&h(e.status)?"...busy":"Get to it!")),c.createElement(b.d,{icon:null==e.status?"":h(e.status)?c.createElement(p.a,{theme:"secondary"}):v(e.status)?{icon:"error",theme:"error"}:j(e.status)?{icon:"check",theme:"primary"}:""})),c.createElement(b.a,null))},D=n(13),N=function(e){var t=e.new,n=g(t)?D.a:function(t){e.onChangeNew(t.currentTarget.value)};return c.createElement(d.a,{className:"todo-list",twoLine:!0},c.createElement(b.b,null,c.createElement(b.c,{title:"Mark all as complete.",icon:{icon:"keyboard_arrow_down",onClick:e.onCompleteAll},theme:"secondary"}),k(e.new)?c.createElement(c.Fragment,null,c.createElement(b.g,null,c.createElement(b.e,{theme:"secondary"},e.new.state),c.createElement(b.f,{style:{fontStyle:"italic "}},"...busy")),c.createElement(b.d,{icon:null==e.new.status?"":k(e.new)?c.createElement(p.a,{theme:"secondary"}):E(e.new)?{icon:"error",theme:"error"}:g(e.new)?{icon:"check",theme:"primary"}:""})):c.createElement(O.a,{fullwidth:!0,theme:"textPrimaryOnDark",placeholder:"Where do you want to go today?",style:{height:"100%"},onChange:n,value:e.new.state||"",onKeyUp:function(t){return 13===t.keyCode&&e.onSubmitNew()},autoFocus:!0,trailingIcon:E(e.new)?{icon:"error",theme:"error"}:void 0})),c.createElement(b.a,null),function(e){return e.todos.map((function(t){var n=Object(f.a)(t,2),r=n[0],o=n[1];return c.createElement(P,{key:r.id,todo:r,onEdit:e.onEdit(r,o),onSave:e.onSave(r,o),status:o&&o.status,isDeleting:k(o)&&o.action===a.Delete,error:o&&E(o)&&o.error||void 0})}))}(e))};!function(e){e.All="All",e.Active="Active",e.Completed="Completed"}(A||(A={}));var _=n(84),F=n(45),T=n(101),B=function(e){return function(t){for(var n=[],r=t.length,a=0;a<r&&a<e;a+=1)n.push(t[a]);return n}},I=function(e){return Object(f.a)(e,1)[0]},L=function(e){return Object(f.a)(e,1)[0]},M=function(e){return Object(f.a)(e,2)[1]},U=function(e){return Object(f.a)(e,2)[1]},J=function(e,t){return[e,t]},W=function(e,t,n){return[e,t,n]},q=function(e){return function(t){return t===e}},Y=q(A.All),G=q(A.Completed),H=q(A.Active),K=function(e){return function(t){return e===A.All?t:t.filter((function(t){var n=Object(f.a)(t,1)[0];return G(e)&&n.completed||H(e)&&!n.completed}))}},R=K(A.Completed),V=K(A.Active),$=function(e){return e},z=function(e,t){return function(n){return e(t(n))}},Q=n(85),X=n(102),Z=n(86),ee=function(e){var t=c.createElement(N,{todos:e.todos,onEdit:e.onEdit,onSave:e.onSave,onChangeNew:e.onChangeNew,new:e.new,onSubmitNew:e.onSubmitNew,onCompleteAll:e.onCompleteAll});return c.createElement(c.Fragment,null,c.createElement("div",{style:{textAlign:"center",marginTop:15}},c.createElement(Q.a,{use:"headline1",theme:"secondary"},"todos")),c.createElement("section",{className:"todoapp"},c.createElement("section",{className:"main"},t),c.createElement("footer",{className:"footer",style:{textAlign:"center"}},c.createElement(X.b,{choice:!0,style:{justifyContent:"center"}},c.createElement(X.a,{label:"All",theme:Y(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.All)}}),c.createElement(X.a,{label:"Active",icon:"radio_button_unchecked",theme:H(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.Active)}}),c.createElement(X.a,{label:"Completed",icon:"check_circle_outline",theme:G(e.filterType)?"secondaryBg":void 0,onClick:function(){return e.onChangeFilterType(A.Completed)}})),c.createElement("div",null,c.createElement(Z.a,{onClick:e.onClearComplete},"Clear completed")),c.createElement(Q.a,{use:"caption",style:{color:"#999  "}},c.createElement("strong",null,e.todos.filter((function(e){return!Object(f.a)(e,1)[0].completed})).length)," ","item left"))))},te=n(100),ne=n(103),re=n(22),ae=n(47),ce=n(52),oe=n(58),ie=n(88),ue=n(90),le=n(44),se=n(57),fe=n(94),de=n(95),be=n(96),pe=n(92),Oe=n(93),me=n(97);var je=n(89),ve=n(87),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$,n=new ve.a(e),r=function(t){console.info("Updating state for ".concat(JSON.stringify(e))),n.next(t)},a=function(){return n.getValue()},c=Object(ce.a)(t(n.asObservable()));return[c,r,a]};Object.assign(window,{stateOf:ye});var he=n(99),we=n(91),ge=n(18),Ee=n.n(ge),xe=n(35);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=[],Ae=[!0,!1,!1,!0,!0,!1,!0],Pe=0,De=function(){return(Pe+=1)>Ae.length-1&&(Pe=0),Ae[Pe]},Ne=function(e){return new Promise((function(t){return setTimeout(t,e)}))},_e=function(){var e=Object(xe.a)(Ee.a.mark((function e(){var t,n;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(De(),!(Se.length<=0)){e.next=13;break}return e.next=4,fetch("https://jsonplaceholder.typicode.com/todos/");case 4:return t=e.sent,e.next=7,t.json();case 7:return n=e.sent,e.next=10,Ne(1500);case 10:Se=B(25)(n).map((function(e){return Ce({},e,{completed:!1})})),e.next=15;break;case 13:return e.next=15,Ne(1e3);case 15:return e.abrupt("return",Se);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(xe.a)(Ee.a.mark((function e(t){var n,a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=De(),e.next=3,Ne(1500);case 3:if(!n){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Something went terribly wrong!",state:t.state});case 5:if(t.state){e.next=7;break}return e.abrupt("return",{status:r.Bad,error:"A title is required!",state:t.state});case 7:return a={id:Math.floor(1e4*Math.random()),userId:Math.floor(1e4*Math.random()),title:t.state,completed:!1},Se=[].concat(Object(l.a)(Se),[a]),e.abrupt("return",{status:r.Ok,state:a});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(xe.a)(Ee.a.mark((function e(t,n){var c,o;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(1500);case 2:if(!De()){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Something went terribly wrong!",state:n.state,action:a.Save});case 5:if(c=n.state.title.trim()){e.next=8;break}return e.abrupt("return",{status:r.Bad,action:a.Save,error:"A title is required!",state:Ce({},n.state,{title:c})});case 8:return o=Ce({},t,{},n.state,{title:c}),Se=Se.map((function(e){return e.id===o.id?o:t})),e.abrupt("return",{status:r.Ok,state:Ce({},t,{},n.state,{title:c}),action:a.Save});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(){var e=Object(xe.a)(Ee.a.mark((function e(t,n){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne(1500);case 2:if(!De()){e.next=5;break}return e.abrupt("return",{status:r.Bad,error:"Unable to delete!",state:n.state,action:a.Delete});case 5:return Se=Se.filter((function(e){return e.id!==t.id})),e.abrupt("return",{status:r.Ok,state:t,action:a.Delete});case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(e,t){return{type:a.Save,todo:e,operation:t}},Le=function(e){return function(t){return t===e}},Me=Le(a.Fetch),Ue=Le(a.Edit),Je=Le(a.Save),We=Le(a.Delete),qe=function(e){return function(t){return e(t.type)}},Ye=qe(Me),Ge=qe(Ue),He=qe(Je),Ke=qe(We),Re=new re.a,Ve=function(e){console.warn("Dispatching ".concat(e.type)),Re.next(e)},$e=ye([],(function(e){return e.pipe(Object(ie.a)((function(){return console.log("Streaming Todos")})))})),ze=Object(f.a)($e,2),Qe=ze[0],Xe=ze[1],Ze=0,et=Qe.subscribe;Object.assign(Qe,{subscribe:function(){var e=++Ze;console.warn("Subscribe ".concat(e));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=et.call.apply(et,[Qe].concat(n));if(a.unsubscribe){var c=a.unsubscribe;Object.assign(a,{unsubscribe:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console.info(n),console.error("Unsubscrube ".concat(e)),Ze--,c.call(a)}})}return a}});var tt=function(e){return Object(se.a)((function(t){return Object(F.a)(t).pipe(Object(ie.a)((function(){return console.error("withLatestFrom")})),Object(ue.a)(Qe),Object(le.a)((function(t){var n=Object(f.a)(t,2),r=n[0],a=n[1],c=e(r),o=Object(f.a)(c,2),i=o[0],u=o[1],s=a.findIndex((function(e){return Object(f.a)(e,1)[0].id===("number"===typeof i?i:i.id)}));if(s>=0){var d=Object(l.a)(a);return d.splice(s,1,["number"===typeof i?a[s][0]:i,u]),W(u,d,i)}return W(u,a,i)})),Object(ie.a)(z(Xe,U)))}))},nt=Re.pipe(Object(ie.a)((function(e){return console.warn("Handle event ".concat(e.type))})),Object(fe.a)((function(e){return Ye(e)?a.Fetch:Ge(e)||He(e)?e.todo.id:Ke(e)?e.id:void 0}),(function(e){return e}),(function(e){return e.pipe(Object(de.a)(15e3,oe.a),Object(be.a)())})),Object(se.a)((function(e){return e.pipe(Object(pe.a)((function(e){if(Ye(e))return Object(ae.a)(_e()).pipe(Object(ue.a)(Qe),Object(le.a)((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return[].concat(Object(l.a)(r),Object(l.a)(n.map((function(e){var t=C({title:e.title,completed:e.completed});return J(e,t)}))))})),Object(ie.a)(Xe)).pipe(Object(le.a)((function(t){return J(e,t)})));if(Ge(e))return function(e){return Object(F.a)(void 0).pipe(Object(ue.a)(Qe),Object(le.a)(M),Object(le.a)((function(t){var n=t.findIndex((function(t){return Object(f.a)(t,1)[0].id===e.todo.id})),r=Object(l.a)(t);return r.splice(n,1,[e.todo,e.operation]),r})),Object(ie.a)(Xe),Object(le.a)((function(t){return J(e,t)})))}(e);if(He(e))return function(e){return Object(ce.a)(Object(F.a)(S(e.operation,a.Save)).pipe(Object(ie.a)((function(){return console.warn("Storing pending todo")})),tt((function(t){return J(e.todo,t)})),Object(le.a)((function(e){return U(e)})),Object(le.a)((function(t){return(n=J,function(e){return function(t){return n(e,t)}})(e)(t);var n}))),Object(ae.a)(Te(e.todo,e.operation)).pipe(Object(ie.a)(console.clear),tt((function(t){return J(g(t)?t.state:e.todo,t)})),Object(le.a)(L),Object(se.a)((function(e){return Object(F.a)(e).pipe(Object(T.a)(g(e)?750:5e3))})),tt((function(t){return J(e.todo.id,C(t.state))})),Object(le.a)((function(t){return J(e,t)}))))}(e);var t,n=(t="id",function(e){return e[t]});return Object(F.a)(void 0).pipe(Object(ue.a)(Qe),Object(le.a)(M),Object(le.a)((function(t){return t.find((function(t){return n(I(t))===n(e)}))})),Object(se.a)((function(t){return t?Object(F.a)(t).pipe(Object(Oe.a)((function(e){return x(M(e))||E(M(e))})),tt((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];return J(n,S(r,a.Delete))})),Object(se.a)((function(e){var n=Object(f.a)(e,3),r=n[0],a=(n[1],n[2]);return Object(ae.a)(Be(a,r)).pipe(Object(se.a)((function(e){return g(e)?Object(F.a)(void 0).pipe(Object(ue.a)(Qe),Object(le.a)(M),Object(ie.a)((function(t){return Xe(t.filter((function(t){return Object(f.a)(t,1)[0].id!==e.state.id})))}))):Object(F.a)(void 0).pipe(tt((function(){return[I(t),e]})))})))}))):Object(F.a)(J(e,void 0))})))})))}))),rt=ye({status:r.Noop,state:""},(function(e){return e.pipe(Object(pe.a)((function(e){return k(e)?Object(ae.a)(Fe(e)).pipe(Object(ue.a)(Qe),Object(ie.a)((function(e){var t=Object(f.a)(e,2),n=t[0],r=t[1];g(n)&&Xe([].concat(Object(l.a)(r),[J(n.state,C(n.state))]))})),Object(le.a)(I),Object(le.a)((function(e){return E(e)?e:C("")})),Object(me.a)(e)):Object(F.a)(e)})))})),at=ye(A.All);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e){var t=new ve.a(-1),n=(Date.now(),Object(je.a)(t,e).pipe(Object(we.a)((function(e,t){var n=Object(f.a)(e,3),r=n[0],a=(n[1],n[2]),c=Object(f.a)(t,2),o=c[0],i=c[1];return r!==i?[i,o,r?[].concat(Object(l.a)(a),[[r,Date.now()]]):[]]:[i,o,a]}),[void 0,-1,[]]),Object(le.a)((function(e){var t=Object(f.a)(e,3),n=t[0],r=t[1],a=t[2];return r<0||r>=a.length?[n,a,a.length,a.length]:[a[r][0],a,r,a.length]})),Object(he.a)())),r=new re.a,a=r.pipe(Object(ue.a)(n),Object(pe.a)((function(e){var t=Object(f.a)(e,2),r=t[0],a=t[1];return"PLAY"===r?Object(ce.a)(Object(F.a)(a),n).pipe(Object(pe.a)((function(e){var t=Object(f.a)(e,3),n=t[0],r=t[1],a=t[2],o=n?[].concat(Object(l.a)(r),[J(n,r[r.length-1][1]+250)]):r,i=a>0&&o[a+1]?o[a+1][1]-o[a][1]:0;return Object(F.a)(void 0).pipe(Object(T.a)(i>2500?250:i),Object(ie.a)((function(){return c(o[a+1]?a+1:0)})))}))):oe.a}))),c=function(e){console.log(e),t.next(e)};return[Object(_.a)(a,n).pipe(Object(Oe.a)((function(e){return!!e}))),c,t.asObservable(),function(){return r.next("PLAY")},function(){return r.next("PAUSE")}]}(function(e){var t=Object.keys(e).reduce((function(t,n){var r=e[n];if(function(e){return Array.isArray(e)}(r)){var a=Object(f.a)(r,2),c=a[0],o=a[1],i=c.pipe(Object(le.a)((function(e){return[n,function(){return e},function(e){o(e)}]})));t.push(i)}else{var u=r.pipe(Object(le.a)((function(e){return[n,function(){return e},function(e){0}]})),Object(ie.a)((function(e){return console.warn("Streaming [".concat(n,"]"))})));t.push(u)}return t}),[]);return je.a.apply(void 0,Object(l.a)(t)).pipe(Object(le.a)((function(e){return e.reduce((function(e,t){var n=Object(f.a)(t,3),r=n[0],a=n[1],c=n[2];return Object.defineProperty(e,r,{get:a,set:c}),e}),{})})),Object(ie.a)((function(e){return console.log("State, state",e)})),Object(he.a)())}({todos:Object(je.a)(Qe,at[0]).pipe(Object(le.a)((function(e){var t=Object(f.a)(e,2),n=t[0];return function(e){return H(e)?V:G(e)?R:$}(t[1])(n)}))),filterType:at,new:rt})),ut=Object(f.a)(it,5),lt=ut[0],st=ut[1],ft=(ut[2],ut[3]),dt=ut[4],bt=function(){console.log("Render App");var e=o.a.useState({data:void 0,index:-1,max:0}),t=Object(f.a)(e,2),n=t[0],r=t[1];o.a.useEffect((function(){var e=nt.subscribe(),t=lt.pipe(Object(ie.a)((function(e){var t=Object(f.a)(e,4),n=t[0],a=(t[1],t[2]),c=t[3];return r({data:n,index:a,max:c})})),Object(ie.a)((function(e){return Object.assign(window,{state:e})}))).subscribe();return Ve({type:a.Fetch}),function(){e.unsubscribe(),t.unsubscribe()}}),[]);var c=n.data;if(null!=c){var i=function(e){return!0===e.completed};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("div",{className:"todomvc"},o.a.createElement(ee,{todos:c.todos,new:c.new,onChangeFilterType:n.index!==n.max?D.a:function(e){c.filterType=e},onChangeNew:n.index!==n.max?D.a:function(e){c.new=C(e)},onSubmitNew:n.index!==n.max?D.a:function(){k(c.new)||(c.new=S(c.new))},filterType:c.filterType,onEdit:n.index!==n.max?function(){return D.a}:function(e,t){return function(n){(x(t)||E(t))&&Ve(function(e,t){return{type:a.Edit,todo:e,operation:t}}(e,ot({},t,{state:ot({},t.state,{},n)})))}},onSave:n.index!==n.max?function(){return D.a}:function(e,t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(x(t)||E(t))&&Ve(Ie(e,ot({},t,{state:ot({},t.state,{},n)})))}},onCompleteAll:n.index!==n.max?D.a:function(){return c.todos.filter(z((function(e){return!e}),z(i,I))).filter((function(e){return x(M(e))||E(M(e))})).map((function(e){return J(I(e),ot({},M(e),{state:ot({},M(e).state,{completed:!0})}))})).forEach((function(e){return Ve(Ie.apply(void 0,Object(l.a)(e)))}))},onClearComplete:n.index!==n.max?D.a:function(){c.todos.filter(z(i,I)).filter((function(e){return x(M(e))||E(M(e))})).forEach((function(e){var t,n=Object(f.a)(e,1)[0];return Ve((t=n.id,{type:a.Delete,id:t}))}))}}))),o.a.createElement("div",null,o.a.createElement("div",{style:{padding:15}},o.a.createElement(te.a,{value:n.index,onInput:function(e){st(e.detail.value)},discrete:!0,start:0,max:n.max,step:1}),o.a.createElement("div",{className:"controls"},o.a.createElement(ne.a,{theme:0===n.index?void 0:"secondary",icon:"fast_rewind",onClick:function(){return st(0)},disabled:0===n.index}),o.a.createElement(ne.a,{theme:0===n.index?void 0:"secondary",icon:"skip_previous",onClick:function(){return st(n.index-1)},disabled:0===n.index}),o.a.createElement(ne.a,{theme:"secondary",icon:"stop",onClick:dt}),o.a.createElement(ne.a,{theme:"secondary",icon:"play_circle_filled",onClick:ft}),o.a.createElement(ne.a,{theme:n.index===n.max?void 0:"secondary",icon:"skip_next",onClick:function(){return st(n.index+1)},disabled:n.index===n.max}),o.a.createElement(ne.a,{theme:n.index===n.max?void 0:"secondary",icon:"fast_forward",onClick:function(){return st(n.max)},disabled:n.index===n.max})))))}return o.a.createElement("div",null,"Loading..")};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[61,1,2]]]);
//# sourceMappingURL=main.a106bb12.chunk.js.map